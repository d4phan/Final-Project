<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Are Temperate Coastal Zones Entering a New Era of "Dry Heat"?</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/3.2.0/scrollama.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Source Sans Pro', sans-serif;
            background: #0a0a0f;
            color: #fff;
        }

        #header {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        /* Coastal background image */
        #header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(to bottom, 
                    rgba(10, 10, 15, 0.5) 0%,
                    rgba(10, 10, 15, 0.6) 40%,
                    rgba(10, 10, 15, 0.9) 80%,
                    rgba(22, 33, 62, 1) 100%
                ),
                url('image/coastal.jpg');
            background-size: cover;
            background-position: center;
            z-index: 0;
            animation: slowZoom 30s ease-in-out infinite alternate;
        }

        @keyframes slowZoom {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }

        /* Heat haze overlay effect */
        #header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse at 50% 100%, rgba(255, 100, 50, 0.15) 0%, transparent 60%),
                radial-gradient(ellipse at 30% 80%, rgba(255, 150, 50, 0.1) 0%, transparent 40%),
                radial-gradient(ellipse at 70% 90%, rgba(255, 80, 30, 0.12) 0%, transparent 50%);
            z-index: 1;
            pointer-events: none;
        }

        #header-content {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 900;
            margin-bottom: 1.5rem;
            line-height: 1.1;
            max-width: 900px;
            
            /* Fiery animated gradient */
            background: linear-gradient(
                90deg,
                #ff4500 0%,
                #ff6b35 10%,
                #ffa500 20%,
                #ffcc00 30%,
                #ff8c00 40%,
                #ff4500 50%,
                #ff6b35 60%,
                #ffa500 70%,
                #ffcc00 80%,
                #ff8c00 90%,
                #ff4500 100%
            );
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            
            animation: 
                fireFlow 4s linear infinite,
                titleFadeIn 1.5s ease-out forwards,
                fireGlow 1.5s ease-in-out infinite;
            
            opacity: 0;
            transform: translateY(30px);
            text-shadow: 0 0 80px rgba(255, 100, 0, 0.5);
        }

        @keyframes fireFlow {
            0% { 
                background-position: 100% 50%;
            }
            100% { 
                background-position: -100% 50%;
            }
        }

        @keyframes fireGlow {
            0%, 100% { 
                filter: drop-shadow(0 0 20px rgba(255, 100, 0, 0.4)) brightness(1);
            }
            50% { 
                filter: drop-shadow(0 0 35px rgba(255, 150, 0, 0.6)) brightness(1.1);
            }
        }

        @keyframes titleFadeIn {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .subtitle {
            font-size: clamp(1.1rem, 2.5vw, 1.6rem);
            font-weight: 300;
            color: rgba(255, 255, 255, 0.85);
            max-width: 700px;
            line-height: 1.6;
            letter-spacing: 0.02em;
            text-align: center;
            margin: 0 auto;
            
            opacity: 0;
            transform: translateY(20px);
            animation: subtitleFadeIn 1.2s ease-out 0.8s forwards;
        }

        @keyframes subtitleFadeIn {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Floating ember particles */
        .ember {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #ff6b35 0%, #ff4500 50%, transparent 100%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 3;
            animation: emberFloat 8s ease-in-out infinite;
        }

        @keyframes emberFloat {
            0% {
                opacity: 0;
                transform: translateY(100vh) scale(0);
            }
            10% {
                opacity: 1;
                transform: translateY(80vh) scale(1);
            }
            90% {
                opacity: 0.6;
                transform: translateY(-10vh) scale(0.5);
            }
            100% {
                opacity: 0;
                transform: translateY(-20vh) scale(0);
            }
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            opacity: 0;
            animation: scrollIndicatorFade 1s ease-out 2s forwards;
        }

        @keyframes scrollIndicatorFade {
            0% { opacity: 0; transform: translateX(-50%) translateY(10px); }
            100% { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        .scroll-indicator span {
            display: block;
            width: 24px;
            height: 24px;
            border-right: 2px solid rgba(255, 150, 100, 0.7);
            border-bottom: 2px solid rgba(255, 150, 100, 0.7);
            transform: rotate(45deg);
            animation: scrollBounce 2s ease-in-out infinite;
        }

        @keyframes scrollBounce {
            0%, 100% { transform: rotate(45deg) translate(0, 0); opacity: 1; }
            50% { transform: rotate(45deg) translate(5px, 5px); opacity: 0.5; }
        }

        #scrolly-section {
            position: relative;
            padding: 0;
        }

        #vis-container {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(to bottom, #16213e 0%, #0f3460 100%);
        }

        #visualization {
            width: 100%;
            height: 100%;
        }

        .step {
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 2rem;
        }

        .step-content {
            background: rgba(0, 0, 0, 0.75);
            padding: 2rem;
            border-radius: 12px;
            max-width: 400px;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 150, 100, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .step-content h2 {
            font-family: 'Playfair Display', serif;
            color: #ffa500;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .step-content p {
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.9);
        }

        #footer {
            position: relative;
            min-height: 60vh;
            background: linear-gradient(to bottom, #0f3460 0%, #1a0000 100%);
            padding: 4rem 2rem;
            text-align: center;
            overflow: hidden;
        }

        #footer::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to top, #ff4500, transparent);
            animation: flicker 2s infinite alternate;
        }

        @keyframes flicker {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .flame {
            position: absolute;
            bottom: 0;
            width: 40px;
            height: 60px;
            background: radial-gradient(ellipse at center, #ff4500 0%, #ff6347 30%, transparent 70%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: burn 1.5s infinite ease-in-out;
        }

        @keyframes burn {
            0%, 100% { transform: translateY(0) scale(1); opacity: 0.8; }
            50% { transform: translateY(-20px) scale(1.1); opacity: 1; }
        }

        #footer-content {
            position: relative;
            z-index: 10;
        }

        #footer h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: #ff6b6b;
        }

        .projection-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .stat {
            background: rgba(255, 69, 0, 0.2);
            padding: 1.5rem 2rem;
            border-radius: 12px;
            border: 2px solid #ff4500;
            backdrop-filter: blur(8px);
        }

        .stat-value {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            font-weight: bold;
            color: #ff6347;
        }

        .stat-label {
            font-size: 1rem;
            color: #ccc;
            margin-top: 0.5rem;
        }

        .knob-indicator {
            position: absolute;
            top: 50%;
            right: 50px;
            transform: translateY(-50%);
            text-align: center;
        }

        .knob {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: radial-gradient(circle, #333, #111);
            border: 4px solid #666;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        .knob-marker {
            position: absolute;
            top: 10px;
            left: 50%;
            width: 4px;
            height: 25px;
            background: #ff6b6b;
            transform-origin: bottom center;
            transition: transform 0.3s ease;
        }

        .knob-label {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #999;
        }

        /* Heat wave distortion effect for header */
        .heat-wave {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 200px;
            background: linear-gradient(to top, rgba(255, 100, 50, 0.1), transparent);
            z-index: 1;
            animation: heatWave 4s ease-in-out infinite;
        }

        @keyframes heatWave {
            0%, 100% { 
                transform: scaleY(1);
                opacity: 0.3;
            }
            50% { 
                transform: scaleY(1.2);
                opacity: 0.5;
            }
        }
    </style>
</head>
<body>
    <div id="header">
        <div id="header-content">
            <h1>Are Temperate Coastal Zones Entering a New Era of "Dry Heat"?</h1>
            <p class="subtitle">An exploration of rising temperatures in coastal regions projected to 2050</p>
        </div>
        <div class="heat-wave"></div>
        <div class="scroll-indicator">
            <span></span>
        </div>
    </div>

    <div id="scrolly-section">
        <div id="vis-container">
            <svg id="visualization"></svg>
            <div class="knob-indicator">
                <div class="knob">
                    <div class="knob-marker"></div>
                </div>
                <div class="knob-label">Temperature</div>
            </div>
        </div>

        <div id="steps">
            <div class="step" data-step="0">
                <div class="step-content">
                    <h2>Present Day (2024)</h2>
                    <p>Coastal regions maintain moderate temperatures with seasonal variation. Our "crockpot" of coastal zones begins at baseline temperatures.</p>
                </div>
            </div>

            <div class="step" data-step="1">
                <div class="step-content">
                    <h2>2030 Projection</h2>
                    <p>The Pacific Coast begins to warm significantly, with average temperatures rising 1.2Â°C above baseline. The heat begins to build.</p>
                </div>
            </div>

            <div class="step" data-step="2">
                <div class="step-content">
                    <h2>2035 Projection</h2>
                    <p>Atlantic and Gulf Coast regions join the warming trend. Temperature increases accelerate to 2.1Â°C above baseline.</p>
                </div>
            </div>

            <div class="step" data-step="3">
                <div class="step-content">
                    <h2>2040 Projection</h2>
                    <p>Mediterranean-climate zones experience severe "dry heat" episodes. The crockpot is now simmering at 3.5Â°C above baseline.</p>
                </div>
            </div>

            <div class="step" data-step="4">
                <div class="step-content">
                    <h2>2050 Projection</h2>
                    <p>All temperate coastal zones reach critical warming thresholds. Average temperatures are 4.8Â°C above 2024 baselineâ€”our crockpot is boiling.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="footer">
        <div id="footer-content">
            <h2>ðŸ”¥ By 2050: A Burning Reality ðŸ”¥</h2>
            <div class="projection-stats">
                <div class="stat">
                    <div class="stat-value">+4.8Â°C</div>
                    <div class="stat-label">Average Temperature Rise</div>
                </div>
                <div class="stat">
                    <div class="stat-value">85%</div>
                    <div class="stat-label">Coastal Zones Affected</div>
                </div>
                <div class="stat">
                    <div class="stat-value">42</div>
                    <div class="stat-label">Days Over 35Â°C</div>
                </div>
            </div>
            <p style="margin-top: 2rem; font-size: 1.2rem; max-width: 800px; margin-left: auto; margin-right: auto; line-height: 1.7;">
                The data is clear: temperate coastal zones are transitioning into a new climate regime characterized by prolonged dry heat. Immediate action is needed to mitigate these projected increases.
            </p>
        </div>
    </div>

    <script>
        // Create floating ember particles in header
        const header = document.getElementById('header');
        for (let i = 0; i < 15; i++) {
            const ember = document.createElement('div');
            ember.className = 'ember';
            ember.style.left = `${Math.random() * 100}%`;
            ember.style.animationDelay = `${Math.random() * 8}s`;
            ember.style.animationDuration = `${6 + Math.random() * 4}s`;
            ember.style.width = `${3 + Math.random() * 4}px`;
            ember.style.height = ember.style.width;
            header.appendChild(ember);
        }

        // Fake data for coastal regions
        const coastalRegions = [
            { name: "Pacific Coast", x: 200, y: 300, baseTemp: 18 },
            { name: "Atlantic Coast", x: 400, y: 280, baseTemp: 16 },
            { name: "Gulf Coast", x: 350, y: 350, baseTemp: 22 },
            { name: "Mediterranean", x: 500, y: 320, baseTemp: 19 }
        ];

        const projections = [
            { year: 2024, tempIncrease: 0, color: "#4a90e2" },
            { year: 2030, tempIncrease: 1.2, color: "#7fb3d5" },
            { year: 2035, tempIncrease: 2.1, color: "#f39c12" },
            { year: 2040, tempIncrease: 3.5, color: "#e67e22" },
            { year: 2050, tempIncrease: 4.8, color: "#e74c3c" }
        ];

        const svg = d3.select("#visualization");
        const width = window.innerWidth;
        const height = window.innerHeight;
        svg.attr("width", width).attr("height", height);

        // Create crockpot
        const potGroup = svg.append("g").attr("transform", `translate(${width/2}, ${height/2})`);

        // Pot body
        const pot = potGroup.append("ellipse")
            .attr("cx", 0)
            .attr("cy", 50)
            .attr("rx", 150)
            .attr("ry", 120)
            .attr("fill", "#333")
            .attr("stroke", "#666")
            .attr("stroke-width", 3);

        // Pot rim
        potGroup.append("ellipse")
            .attr("cx", 0)
            .attr("cy", -70)
            .attr("rx", 160)
            .attr("ry", 20)
            .attr("fill", "#444")
            .attr("stroke", "#666")
            .attr("stroke-width", 3);

        // Water/heat level
        const heatLevel = potGroup.append("ellipse")
            .attr("cx", 0)
            .attr("cy", 40)
            .attr("rx", 140)
            .attr("ry", 100)
            .attr("fill", "#4a90e2")
            .attr("opacity", 0.6);

        // Bubbles
        const bubblesGroup = potGroup.append("g");

        // Region labels feeding into pot
        const regionsGroup = svg.append("g");
        
        coastalRegions.forEach((region, i) => {
            const angle = (i * Math.PI / 2) - Math.PI / 4;
            const distance = 250;
            const x = width/2 + Math.cos(angle) * distance;
            const y = height/2 + Math.sin(angle) * distance;

            // Arrow to pot
            regionsGroup.append("line")
                .attr("x1", x)
                .attr("y1", y)
                .attr("x2", width/2 + Math.cos(angle) * 160)
                .attr("y2", height/2 + Math.sin(angle) * 80)
                .attr("stroke", "#666")
                .attr("stroke-width", 2)
                .attr("stroke-dasharray", "5,5")
                .attr("opacity", 0.5);

            // Region label
            regionsGroup.append("text")
                .attr("x", x)
                .attr("y", y)
                .attr("text-anchor", "middle")
                .attr("fill", "#fff")
                .attr("font-size", "14px")
                .text(region.name);
        });

        // Temperature label
        const tempLabel = potGroup.append("text")
            .attr("x", 0)
            .attr("y", -100)
            .attr("text-anchor", "middle")
            .attr("fill", "#fff")
            .attr("font-size", "24px")
            .attr("font-weight", "bold");

        function updateVisualization(step) {
            const projection = projections[step];
            const temp = projection.tempIncrease;
            
            // Update heat level color
            heatLevel
                .transition()
                .duration(800)
                .attr("fill", projection.color);

            // Update temperature label
            tempLabel.text(`+${temp.toFixed(1)}Â°C`);

            // Create bubbles based on temperature
            const numBubbles = Math.floor(temp * 5);
            
            bubblesGroup.selectAll("circle").remove();
            
            for (let i = 0; i < numBubbles; i++) {
                bubblesGroup.append("circle")
                    .attr("cx", (Math.random() - 0.5) * 200)
                    .attr("cy", 80)
                    .attr("r", 3 + Math.random() * 5)
                    .attr("fill", "white")
                    .attr("opacity", 0.7)
                    .transition()
                    .duration(1000 + Math.random() * 1000)
                    .attr("cy", -50)
                    .attr("opacity", 0)
                    .remove();
            }

            // Update knob
            const knobRotation = (step / 4) * 180;
            d3.select(".knob-marker")
                .style("transform", `translateX(-50%) rotate(${knobRotation}deg)`);
        }

        // Scrollama setup
        const scroller = scrollama();

        scroller
            .setup({
                step: ".step",
                offset: 0.5,
                debug: false
            })
            .onStepEnter(response => {
                const step = +response.element.dataset.step;
                updateVisualization(step);
            });

        // Initialize
        updateVisualization(0);

        // Generate flames in footer
        const footer = document.getElementById('footer');
        for (let i = 0; i < 20; i++) {
            const flame = document.createElement('div');
            flame.className = 'flame';
            flame.style.left = `${Math.random() * 100}%`;
            flame.style.animationDelay = `${Math.random() * 1.5}s`;
            flame.style.animationDuration = `${1 + Math.random()}s`;
            footer.appendChild(flame);
        }

        // Resize handler
        window.addEventListener('resize', () => {
            scroller.resize();
        });
    </script>
</body>
</html>
